//mumax 3.10 [windows_amd64 go1.11.6(gc) CUDA-11.0]
//GPU info: GeForce MX150(2048MB), CUDA Driver 11.0, cc=6.1, using cc=61 PTX
//(c) Arne Vansteenkiste, Dynamat LAB, Ghent University, Belgium
//This is free software without any warranty. See license.txt
//********************************************************************//
//  If you use mumax in any work or publication,                      //
//  we kindly ask you to cite the references in references.bib        //
//********************************************************************//
//output directory: c:\Jonathan\UGent\Masterproef\inputfiles\biaxial_island\biaxial_island_shape_field.out/
Nxy := 128
Nz := 1
SetGridSize(Nxy, Nxy, Nz)
SetCellSize(1e-9, 1e-9, 5e-9/Nz)
Msat = 800e3
Aex = 13e-12
print("Exchange length:", Sqrt((2*Aex.GetRegion(0))/(mu0*Pow(Msat.GetRegion(0), 2))))
//Exchange length: 5.685802385313737e-09
TableAdd(E_total)
TableAdd(E_zeeman)
angle := 0.0
angle0 := angle
tesla := 0.001
tesla0 := tesla
size := 100
size0 := size
TableAddVar(angle, "Angle", "rad")
TableAddVar(tesla, "Field", "T")
TableAddVar(size, "Size", "nm")
for size = size0; size >= 10; size -= 5 {
	print(sprintf("Size: %d nm", size))
	geometry := Ellipse(100e-9, 65e-9)
	geometry = geometry.Add(geometry.RotZ(Pi / 2))
	SetGeom(geometry)
	for tesla = tesla0; tesla >= 0.001; tesla = tesla * 0.5 {
		print(sprintf("Field: %.3f T", tesla))
		for angle = angle0; angle <= Pi/4; angle += Pi / 4 {
			m = Uniform(cos(angle), sin(angle), 0)
			B_ext = vector(tesla*cos(angle), tesla*sin(angle), 0)
			minimize()
			TableSave()
		}
	}
}
//Size: 100 nm
//Field: 0.001 T
//Size: 95 nm
//Field: 0.001 T
//Size: 90 nm
//Field: 0.001 T
//Size: 85 nm
//Field: 0.001 T
//Size: 80 nm
//Field: 0.001 T
//Size: 75 nm
//Field: 0.001 T
//Size: 70 nm
//Field: 0.001 T
//Size: 65 nm
//Field: 0.001 T
//Size: 60 nm
//Field: 0.001 T
//Size: 55 nm
//Field: 0.001 T
//Size: 50 nm
//Field: 0.001 T
//Size: 45 nm
//Field: 0.001 T
//Size: 40 nm
//Field: 0.001 T
//Size: 35 nm
//Field: 0.001 T
//Size: 30 nm
//Field: 0.001 T
//Size: 25 nm
//Field: 0.001 T
//Size: 20 nm
//Field: 0.001 T
//Size: 15 nm
//Field: 0.001 T
//Size: 10 nm
//Field: 0.001 T
//********************************************************************//
//Please cite the following references, relevant for your simulation. //
//See bibtex file in output folder for justification.                 //
//********************************************************************//
//   * Vansteenkiste et al., AIP Adv. 4, 107133 (2014).
//   * Exl et al., J. Appl. Phys. 115, 17D118 (2014).
