//mumax 3.10 [windows_amd64 go1.11.6(gc) CUDA-11.0]
//GPU info: GeForce MX150(2048MB), CUDA Driver 11.0, cc=6.1, using cc=61 PTX
//(c) Arne Vansteenkiste, Dynamat LAB, Ghent University, Belgium
//This is free software without any warranty. See license.txt
//********************************************************************//
//  If you use mumax in any work or publication,                      //
//  we kindly ask you to cite the references in references.bib        //
//********************************************************************//
//output directory: homework1.out/
N := 32
SetGridsize(N, N, N)
Msat = 800e3
Aex = 13e-12
print("Exchange length:", Sqrt((2*Aex.GetRegion(0))/(mu0*Pow(Msat.GetRegion(0), 2))))
//Exchange length: 5.685802385313737e-09
Lmin := 50e-9
Lmax := 100e-9
Lstep := 10e-9
L := Lmin
sliceHeight := 1e-9
TableAdd(E_total)
TableAddVar(L, "L", "m")
for L = Lmin; L <= Lmax; L += Lstep {
	size := L
	SetCellsize(size/N, size/N, size/N)
	print("Cell size:", size/N)
	geometry := Universe().Inverse()
	for i := 0; i < size/sliceHeight; i++ {
		sizeNow := Max((L/Sqrt(2)-sliceHeight*i)*Sqrt(2), 0)
		square := Square(sizeNow)
		movedSquare := square.Intersect(ZRange(i*sliceHeight-size/2, (i+1)*sliceHeight-size/2))
		geometry = geometry.Add(movedSquare)
	}
	SetGeom(geometry)
	m = uniform(0.01, 0, 1)
	minimize()
	SaveAs(m, sprintf("UniformZL%.0f.ovf", L*1e9))
	TableSave()
}
//Cell size: 1.5625e-09
//resizing...
//Cell size: 1.875e-09
//resizing...
//Cell size: 2.1874999999999997e-09
//resizing...
//Cell size: 2.4999999999999996e-09
//resizing...
//Cell size: 2.8124999999999995e-09
//resizing...
//Cell size: 3.1249999999999994e-09
//********************************************************************//
//Please cite the following references, relevant for your simulation. //
//See bibtex file in output folder for justification.                 //
//********************************************************************//
//   * Vansteenkiste et al., AIP Adv. 4, 107133 (2014).
//   * Exl et al., J. Appl. Phys. 115, 17D118 (2014).
